{
	// For format details, see https://aka.ms/devcontainer.json. For config options, see the
	// README at: https://github.com/devcontainers/templates/tree/main/src/docker-existing-dockerfile
	"name": "AI-World",
	"build": {
		// Sets the run context to one level up instead of the .devcontainer folder.
		"context": "..",
		// Update the 'dockerfile' property if you aren't using the standard 'Dockerfile' filename.
		"dockerfile": "Dockerfile"
	},
	"features": {
		"ghcr.io/devcontainers/features/docker-in-docker:2": {},
		"ghcr.io/devcontainers/features/node:1": {
			"version": "lts"
		},
		"ghcr.io/devcontainers/features/python:1": {
			"version": "3.11"
		}
	},
	// Expose common app ports from the container
	"forwardPorts": [3000, 11434],
	// Run setup after the container is created: npm install + Python venv + pip install if requirements.txt exists
	"postCreateCommand": "npm install && python3 -m venv .venv && . .venv/bin/activate && if [ -f requirements.txt ]; then pip install -r requirements.txt; fi"
}
